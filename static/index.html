<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script>
        function requestImage(promptText) {
            $("#result").attr("src", "loading.gif");
            $.get("image?requestText="+promptText, function (data){
                $("#result").attr("src", data);
            }).done(function(jqXHR){
                console.log("done:", JSON.stringify(jqXHR));
            }).fail(function(jqXHR) {
                console.log("fail:", JSON.stringify(jqXHR));
            }).always(function(jqXHR){
                console.log("always:", JSON.stringify(jqXHR));
            });
        }
        $( document ).ready(function() {
            $("#send").click(function(e) {
                requestImage($("#prompt").val());
            });

        });
    </script>
</head>
<body>
    <h1>Make your own drawing!</h1>
    <input id="prompt"/>
    <button id="send">send</button>
    <img id="result" src =""/>
</body>
</html>